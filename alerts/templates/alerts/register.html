{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Register</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="icon" type="image/png" href="{% static 'alerts/images/icons/favicon.ico' %}"/>

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="{% static 'alerts/vendor/bootstrap/css/bootstrap.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'alerts/fonts/font-awesome-4.7.0/css/font-awesome.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'alerts/vendor/animate/animate.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'alerts/vendor/css-hamburgers/hamburgers.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'alerts/vendor/select2/select2.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'alerts/css/util.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'alerts/css/main.css' %}">
</head>
<body>

<div class="limiter">
    <div class="container-login100">
        <div class="wrap-login100">
            <div class="login100-pic">
                <img src="{% static 'alerts/images/img-01.png' %}" alt="IMG">
            </div>

            <form class="login100-form validate-form" method="POST" onsubmit="return validateForm()">
                {% csrf_token %}
                <span class="login100-form-title">Create Account</span>

                <div class="wrap-input100 validate-input" data-validate="Valid email is required: ex@abc.xyz">
                    <input class="input100" type="text" id="email" name="username" placeholder="Email">
                    <span class="focus-input100"></span>
                    <span class="symbol-input100"><i class="fa fa-envelope" aria-hidden="true"></i></span>
                </div>

                <div class="wrap-input100 validate-input" data-validate="Password is required">
                    <input class="input100" type="password" id="password1" name="password1" placeholder="Password">
                    <span class="focus-input100"></span>
                    <span class="symbol-input100"><i class="fa fa-lock" aria-hidden="true"></i></span>
                </div>

                <div class="wrap-input100 validate-input" data-validate="Password confirmation is required">
                    <input class="input100" type="password" id="password2" name="password2" placeholder="Confirm Password">
                    <span class="focus-input100"></span>
                    <span class="symbol-input100"><i class="fa fa-lock" aria-hidden="true"></i></span>
                </div>

                <div class="container-login100-form-btn">
                    <button class="login100-form-btn">Register</button>
                </div>

                <div class="text-center p-t-12">
                    <span class="txt1">Already have an account?</span>
                    <a class="txt2" href="{% url 'login' %}">Login here</a>
                </div>
            </form>
        </div>
    </div>
</div>

<script src="{% static 'alerts/vendor/jquery/jquery-3.2.1.min.js' %}"></script>
<script src="{% static 'alerts/vendor/bootstrap/js/popper.js' %}"></script>
<script src="{% static 'alerts/vendor/bootstrap/js/bootstrap.min.js' %}"></script>
<script src="{% static 'alerts/vendor/select2/select2.min.js' %}"></script>
<script src="{% static 'alerts/js/main.js' %}"></script>

<script>
function validateForm() {
    var email = document.getElementById('email').value.trim();
    var password1 = document.getElementById('password1').value;
    var password2 = document.getElementById('password2').value;

    var emailPattern = /^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{1,5}|[0-9]{1,3})(\]?)$/;
    if(!emailPattern.test(email)) { alert("Please enter a valid email."); return false; }
    if(password1.length < 6) { alert("Password must be at least 6 characters."); return false; }
    if(password1 !== password2) { alert("Passwords do not match."); return false; }
    return true;
}
</script>

</body>
</html>
